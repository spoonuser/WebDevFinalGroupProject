{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n  message: ({\n    params: {\n      missingProperty\n    }\n  }) => (0, codegen_1.str)`must have required property '${missingProperty}'`,\n  params: ({\n    params: {\n      missingProperty\n    }\n  }) => (0, codegen_1._)`{missingProperty: ${missingProperty}}`\n};\nconst def = {\n  keyword: \"required\",\n  type: \"object\",\n  schemaType: \"array\",\n  $data: true,\n  error,\n  code(cxt) {\n    const {\n      gen,\n      schema,\n      schemaCode,\n      data,\n      $data,\n      it\n    } = cxt;\n    const {\n      opts\n    } = it;\n    if (!$data && schema.length === 0) return;\n    const useLoop = schema.length >= opts.loopRequired;\n    if (it.allErrors) allErrorsMode();else exitOnErrorMode();\n    if (opts.strictRequired) {\n      const props = cxt.parentSchema.properties;\n      const {\n        definedProperties\n      } = cxt.it;\n      for (const requiredKey of schema) {\n        if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n          const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n          const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n          (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n        }\n      }\n    }\n    function allErrorsMode() {\n      if (useLoop || $data) {\n        cxt.block$data(codegen_1.nil, loopAllRequired);\n      } else {\n        for (const prop of schema) {\n          (0, code_1.checkReportMissingProp)(cxt, prop);\n        }\n      }\n    }\n    function exitOnErrorMode() {\n      const missing = gen.let(\"missing\");\n      if (useLoop || $data) {\n        const valid = gen.let(\"valid\", true);\n        cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n        cxt.ok(valid);\n      } else {\n        gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n        (0, code_1.reportMissingProp)(cxt, missing);\n        gen.else();\n      }\n    }\n    function loopAllRequired() {\n      gen.forOf(\"prop\", schemaCode, prop => {\n        cxt.setParams({\n          missingProperty: prop\n        });\n        gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n      });\n    }\n    function loopUntilMissing(missing, valid) {\n      cxt.setParams({\n        missingProperty: missing\n      });\n      gen.forOf(missing, schemaCode, () => {\n        gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n        gen.if((0, codegen_1.not)(valid), () => {\n          cxt.error();\n          gen.break();\n        });\n      }, codegen_1.nil);\n    }\n  }\n};\nexports.default = def;","map":{"version":3,"names":["Object","defineProperty","exports","value","code_1","require","codegen_1","util_1","error","message","params","missingProperty","str","_","def","keyword","type","schemaType","$data","code","cxt","gen","schema","schemaCode","data","it","opts","length","useLoop","loopRequired","allErrors","allErrorsMode","exitOnErrorMode","strictRequired","props","parentSchema","properties","definedProperties","requiredKey","undefined","has","schemaPath","schemaEnv","baseId","errSchemaPath","msg","checkStrictMode","block$data","nil","loopAllRequired","prop","checkReportMissingProp","missing","let","valid","loopUntilMissing","ok","if","checkMissingProp","reportMissingProp","else","forOf","setParams","noPropertyInData","ownProperties","assign","propertyInData","not","break","default"],"sources":["/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/node_modules/ajv/dist/vocabularies/validation/required.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}