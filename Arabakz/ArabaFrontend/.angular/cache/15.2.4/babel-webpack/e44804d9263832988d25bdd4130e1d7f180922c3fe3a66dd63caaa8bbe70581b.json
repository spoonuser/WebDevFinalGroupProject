{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar _asyncToGenerator = require(\"/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.callRule = exports.callSource = exports.InvalidSourceResultException = exports.InvalidRuleResultException = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst interface_1 = require(\"../tree/interface\");\nfunction _getTypeOfResult(value) {\n  if (value === undefined) {\n    return 'undefined';\n  } else if (value === null) {\n    return 'null';\n  } else if (typeof value == 'function') {\n    return `Function()`;\n  } else if (typeof value != 'object') {\n    return `${typeof value}(${JSON.stringify(value)})`;\n  } else {\n    if (Object.getPrototypeOf(value) == Object) {\n      return `Object(${JSON.stringify(value)})`;\n    } else if (value.constructor) {\n      return `Instance of class ${value.constructor.name}`;\n    } else {\n      return 'Unknown Object';\n    }\n  }\n}\n/**\n * When a rule or source returns an invalid value.\n */\nclass InvalidRuleResultException extends core_1.BaseException {\n  constructor(value) {\n    super(`Invalid rule result: ${_getTypeOfResult(value)}.`);\n  }\n}\nexports.InvalidRuleResultException = InvalidRuleResultException;\nclass InvalidSourceResultException extends core_1.BaseException {\n  constructor(value) {\n    super(`Invalid source result: ${_getTypeOfResult(value)}.`);\n  }\n}\nexports.InvalidSourceResultException = InvalidSourceResultException;\nfunction callSource(source, context) {\n  return (0, rxjs_1.defer)( /*#__PURE__*/_asyncToGenerator(function* () {\n    let result = source(context);\n    if ((0, rxjs_1.isObservable)(result)) {\n      result = yield result.pipe((0, operators_1.defaultIfEmpty)()).toPromise();\n    }\n    if (result && interface_1.TreeSymbol in result) {\n      return result;\n    }\n    throw new InvalidSourceResultException(result);\n  }));\n}\nexports.callSource = callSource;\nfunction callRule(rule, input, context) {\n  if ((0, rxjs_1.isObservable)(input)) {\n    return input.pipe((0, operators_1.mergeMap)(inputTree => callRuleAsync(rule, inputTree, context)));\n  } else {\n    return (0, rxjs_1.defer)(() => callRuleAsync(rule, input, context));\n  }\n}\nexports.callRule = callRule;\nfunction callRuleAsync(_x, _x2, _x3) {\n  return _callRuleAsync.apply(this, arguments);\n}\nfunction _callRuleAsync() {\n  _callRuleAsync = _asyncToGenerator(function* (rule, tree, context) {\n    let result = yield rule(tree, context);\n    while (typeof result === 'function') {\n      // This is considered a Rule, chain the rule and return its output.\n      result = yield result(tree, context);\n    }\n    if (typeof result === 'undefined') {\n      return tree;\n    }\n    if ((0, rxjs_1.isObservable)(result)) {\n      result = yield result.pipe((0, operators_1.defaultIfEmpty)(tree)).toPromise();\n    }\n    if (result && interface_1.TreeSymbol in result) {\n      return result;\n    }\n    throw new InvalidRuleResultException(result);\n  });\n  return _callRuleAsync.apply(this, arguments);\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","callRule","callSource","InvalidSourceResultException","InvalidRuleResultException","core_1","require","rxjs_1","operators_1","interface_1","_getTypeOfResult","undefined","JSON","stringify","getPrototypeOf","constructor","name","BaseException","source","context","defer","result","isObservable","pipe","defaultIfEmpty","toPromise","TreeSymbol","rule","input","mergeMap","inputTree","callRuleAsync","tree"],"sources":["/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/node_modules/@angular-devkit/schematics/src/rules/call.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRule = exports.callSource = exports.InvalidSourceResultException = exports.InvalidRuleResultException = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst interface_1 = require(\"../tree/interface\");\nfunction _getTypeOfResult(value) {\n    if (value === undefined) {\n        return 'undefined';\n    }\n    else if (value === null) {\n        return 'null';\n    }\n    else if (typeof value == 'function') {\n        return `Function()`;\n    }\n    else if (typeof value != 'object') {\n        return `${typeof value}(${JSON.stringify(value)})`;\n    }\n    else {\n        if (Object.getPrototypeOf(value) == Object) {\n            return `Object(${JSON.stringify(value)})`;\n        }\n        else if (value.constructor) {\n            return `Instance of class ${value.constructor.name}`;\n        }\n        else {\n            return 'Unknown Object';\n        }\n    }\n}\n/**\n * When a rule or source returns an invalid value.\n */\nclass InvalidRuleResultException extends core_1.BaseException {\n    constructor(value) {\n        super(`Invalid rule result: ${_getTypeOfResult(value)}.`);\n    }\n}\nexports.InvalidRuleResultException = InvalidRuleResultException;\nclass InvalidSourceResultException extends core_1.BaseException {\n    constructor(value) {\n        super(`Invalid source result: ${_getTypeOfResult(value)}.`);\n    }\n}\nexports.InvalidSourceResultException = InvalidSourceResultException;\nfunction callSource(source, context) {\n    return (0, rxjs_1.defer)(async () => {\n        let result = source(context);\n        if ((0, rxjs_1.isObservable)(result)) {\n            result = await result.pipe((0, operators_1.defaultIfEmpty)()).toPromise();\n        }\n        if (result && interface_1.TreeSymbol in result) {\n            return result;\n        }\n        throw new InvalidSourceResultException(result);\n    });\n}\nexports.callSource = callSource;\nfunction callRule(rule, input, context) {\n    if ((0, rxjs_1.isObservable)(input)) {\n        return input.pipe((0, operators_1.mergeMap)((inputTree) => callRuleAsync(rule, inputTree, context)));\n    }\n    else {\n        return (0, rxjs_1.defer)(() => callRuleAsync(rule, input, context));\n    }\n}\nexports.callRule = callRule;\nasync function callRuleAsync(rule, tree, context) {\n    let result = await rule(tree, context);\n    while (typeof result === 'function') {\n        // This is considered a Rule, chain the rule and return its output.\n        result = await result(tree, context);\n    }\n    if (typeof result === 'undefined') {\n        return tree;\n    }\n    if ((0, rxjs_1.isObservable)(result)) {\n        result = await result.pipe((0, operators_1.defaultIfEmpty)(tree)).toPromise();\n    }\n    if (result && interface_1.TreeSymbol in result) {\n        return result;\n    }\n    throw new InvalidRuleResultException(result);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}