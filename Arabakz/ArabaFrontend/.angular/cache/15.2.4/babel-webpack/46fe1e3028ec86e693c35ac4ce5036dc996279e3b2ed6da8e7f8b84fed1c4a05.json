{"ast":null,"code":"import { NavigationEnd } from \"@angular/router\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../category.service\";\nimport * as i3 from \"../product.service\";\nimport * as i4 from \"@angular/common\";\nfunction CategoriesComponent_div_1_div_1_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 10);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_div_1_div_1_img_1_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const product_r1 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.likeClicked(product_r1));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriesComponent_div_1_div_1_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 11);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_div_1_div_1_img_2_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const product_r1 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.likeClicked(product_r1));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1, a3) {\n  return [\"/categories\", a1, \"products\", a3];\n};\nfunction CategoriesComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CategoriesComponent_div_1_div_1_img_1_Template, 1, 0, \"img\", 3);\n    i0.ɵɵtemplate(2, CategoriesComponent_div_1_div_1_img_2_Template, 1, 0, \"img\", 4);\n    i0.ɵɵelementStart(3, \"div\", 5)(4, \"div\", 6);\n    i0.ɵɵelement(5, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 9);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !product_r1.liked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.liked);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r1.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(7, _c0, ctx_r2.categoryIDtoString(), product_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(10, _c0, ctx_r2.categoryIDtoString(), product_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", product_r1.price, \"\\u0442\\u0433\");\n  }\n}\nfunction CategoriesComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CategoriesComponent_div_1_div_1_Template, 10, 13, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.category == ctx_r0.categoryID);\n  }\n}\nexport class CategoriesComponent {\n  constructor(route, categoryService, productService, router) {\n    this.route = route;\n    this.categoryService = categoryService;\n    this.productService = productService;\n    this.router = router;\n    this.categoryID = 0;\n    this.products = [];\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.getCategoryProducts();\n      }\n    });\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      let _id = params.get('id');\n      if (_id) {\n        this.categoryID = +_id;\n      }\n    });\n    this.getCategoryProducts();\n  }\n  getCategoryProducts() {\n    this.categoryService.getCategoryProducts(this.categoryID).subscribe(products => {\n      this.products = products;\n    });\n  }\n  updateProduct(product) {\n    product.liked = !product.liked;\n    this.productService.likeAction(product);\n  }\n  likeClicked(product) {\n    this.updateProduct(product);\n  }\n  categoryIDtoString() {\n    return this.categoryID.toString();\n  }\n}\nCategoriesComponent.ɵfac = function CategoriesComponent_Factory(t) {\n  return new (t || CategoriesComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i1.Router));\n};\nCategoriesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoriesComponent,\n  selectors: [[\"app-categories\"]],\n  inputs: {\n    categoryID: \"categoryID\"\n  },\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"products\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/73/73814.png\", \"class\", \"liked\", 3, \"click\", 4, \"ngIf\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/833/833472.png\", \"class\", \"liked\", 3, \"click\", 4, \"ngIf\"], [1, \"product\"], [1, \"product-image\"], [3, \"src\", \"routerLink\"], [1, \"product-name\", 3, \"routerLink\"], [1, \"product-price\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/73/73814.png\", 1, \"liked\", 3, \"click\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/833/833472.png\", 1, \"liked\", 3, \"click\"]],\n  template: function CategoriesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, CategoriesComponent_div_1_Template, 2, 1, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i1.RouterLink],\n  styles: [\".product[_ngcontent-%COMP%]{\\n  display: flex;\\n  flex-direction: column;\\n  text-align: center;\\n  letter-spacing: 1px;\\n  border-radius: 14px;\\n  overflow: hidden;\\n  margin-bottom: 40px;\\n  margin-right: 4rem;\\n  border-bottom: 1px solid gray;\\n}\\n\\n.product-price[_ngcontent-%COMP%]{\\n  font-family: Calibri;\\n  font-weight: 600;\\n}\\n\\n.product-image[_ngcontent-%COMP%]{\\n  width: 300px;\\n  height: 330px;\\n  overflow: hidden;\\n  margin-bottom: 10px;\\n}\\n\\n.liked[_ngcontent-%COMP%]{\\n  width: 30px;\\n  position: relative;\\n  left: 16rem;\\n  top: 3em;\\n}\\n\\n.products[_ngcontent-%COMP%]{\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: flex-start;\\n  width: 100%;\\n  margin-left: 3%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2F0ZWdvcmllcy9jYXRlZ29yaWVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLG9CQUFvQjtFQUNwQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLDJCQUEyQjtFQUMzQixXQUFXO0VBQ1gsZUFBZTtBQUNqQiIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9kdWN0e1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGxldHRlci1zcGFjaW5nOiAxcHg7XG4gIGJvcmRlci1yYWRpdXM6IDE0cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1hcmdpbi1ib3R0b206IDQwcHg7XG4gIG1hcmdpbi1yaWdodDogNHJlbTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGdyYXk7XG59XG5cbi5wcm9kdWN0LXByaWNle1xuICBmb250LWZhbWlseTogQ2FsaWJyaTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLnByb2R1Y3QtaW1hZ2V7XG4gIHdpZHRoOiAzMDBweDtcbiAgaGVpZ2h0OiAzMzBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLmxpa2Vke1xuICB3aWR0aDogMzBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZWZ0OiAxNnJlbTtcbiAgdG9wOiAzZW07XG59XG5cbi5wcm9kdWN0c3tcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW4tbGVmdDogMyU7XG59XG5cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAgCA,aAAa,QAAO,iBAAiB;;;;;;;;;ICCjEC,+BAAmI;IAA/BA;MAAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;IAAlIA,iBAAmI;;;;;;IACnIA,+BAAoI;IAA/BA;MAAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;IAAnIA,iBAAoI;;;;;;;;IAFtIA,2BAA0C;IACxCA,gFAAmI;IACnIA,gFAAoI;IACpIA,8BAAqB;IAErBA,yBAAwG;IAC1GA,iBAAM;IACJA,8BAAwG;IAAAA,YAAgB;IAAAA,iBAAM;IAC9HA,8BAA2B;IAAAA,YAAmB;IAAAA,iBAAM;;;;;IAP0BA,eAAoB;IAApBA,wCAAoB;IAClBA,eAAmB;IAAnBA,uCAAmB;IAG9FA,eAAqB;IAArBA,iEAAqB;IAACA,mGAA4E;IAE5EA,eAA4E;IAA5EA,oGAA4E;IAACA,eAAgB;IAAhBA,qCAAgB;IAC7FA,eAAmB;IAAnBA,2DAAmB;;;;;IATlDA,2BAAsC;IACpCA,4EAUM;IACRA,iBAAM;;;;;IAXEA,eAAkC;IAAlCA,+DAAkC;;;ADU1C,OAAM,MAAOC,mBAAmB;EAK9BC,YAAoBC,KAAqB,EAAUC,eAAgC,EAAUC,cAA8B,EAAUC,MAAc;IAA/H,UAAK,GAALH,KAAK;IAA0B,oBAAe,GAAfC,eAAe;IAA2B,mBAAc,GAAdC,cAAc;IAA0B,WAAM,GAANC,MAAM;IACzI,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACF,MAAM,CAACG,MAAM,CAACC,SAAS,CAACC,KAAK,IAAG;MACnC,IAAIA,KAAK,YAAYZ,aAAa,EAAE;QAClC,IAAI,CAACa,mBAAmB,EAAE;;IAE9B,CAAC,CAAC;EACJ;EAEAC,QAAQ;IACN,IAAI,CAACV,KAAK,CAACW,QAAQ,CAACJ,SAAS,CAAEK,MAAM,IAAG;MACtC,IAAIC,GAAG,GAAGD,MAAM,CAACE,GAAG,CAAC,IAAI,CAAC;MAC1B,IAAID,GAAG,EAAE;QACP,IAAI,CAACT,UAAU,GAAG,CAACS,GAAG;;IAE1B,CAAC,CAAC;IACJ,IAAI,CAACJ,mBAAmB,EAAE;EAC1B;EACAA,mBAAmB;IACjB,IAAI,CAACR,eAAe,CAACQ,mBAAmB,CAAC,IAAI,CAACL,UAAU,CAAC,CAACG,SAAS,CAAEF,QAAQ,IAAI;MAC/E,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC,CAAC;EACJ;EAEAU,aAAa,CAACC,OAAgB;IAC5BA,OAAO,CAACC,KAAK,GAAG,CAACD,OAAO,CAACC,KAAK;IAC9B,IAAI,CAACf,cAAc,CAACgB,UAAU,CAACF,OAAO,CAAC;EACzC;EAEAG,WAAW,CAACH,OAAgB;IAExB,IAAI,CAACD,aAAa,CAACC,OAAO,CAAC;EAE/B;EACAI,kBAAkB;IAChB,OAAO,IAAI,CAAChB,UAAU,CAACiB,QAAQ,EAAE;EACnC;;AA1CWvB,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAwB;EAAAC;IAAAnB;EAAA;EAAAoB;EAAAC;EAAAC;EAAAC;IAAA;MCZhC9B,8BAAsB;MACtBA,oEAYM;MACNA,iBAAM;;;MAbmBA,eAAW;MAAXA,sCAAW","names":["NavigationEnd","i0","CategoriesComponent","constructor","route","categoryService","productService","router","categoryID","products","events","subscribe","event","getCategoryProducts","ngOnInit","paramMap","params","_id","get","updateProduct","product","liked","likeAction","likeClicked","categoryIDtoString","toString","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/src/app/categories/categories.component.ts","/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/src/app/categories/categories.component.html"],"sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {Product} from \"../models\";\nimport {ActivatedRoute, Router, NavigationEnd} from \"@angular/router\";\nimport {MyDB} from \"../db\";\nimport {CategoryService} from \"../category.service\";\nimport {ProductService} from \"../product.service\";\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.component.html',\n  styleUrls: ['./categories.component.css']\n})\nexport class CategoriesComponent implements OnInit{\n  @Input() categoryID: number;\n  products: Product[];\n\n\n  constructor(private route: ActivatedRoute, private categoryService: CategoryService, private productService: ProductService, private router: Router) {\n    this.categoryID = 0;\n    this.products = [];\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.getCategoryProducts()\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe((params)=> {\n      let _id = params.get('id');\n      if (_id) {\n        this.categoryID = +_id;\n      }\n    });\n  this.getCategoryProducts()\n  }\n  getCategoryProducts(){\n    this.categoryService.getCategoryProducts(this.categoryID).subscribe((products) => {\n      this.products = products;\n    });\n  }\n\n  updateProduct(product: Product){\n    product.liked = !product.liked;\n    this.productService.likeAction(product)\n  }\n\n  likeClicked(product: Product){\n\n      this.updateProduct(product)\n\n  }\n  categoryIDtoString(){\n    return this.categoryID.toString()\n  }\n\n}\n","<div class=\"products\">\n<div *ngFor=\"let product of products\">\n  <div *ngIf=\"product.category==categoryID\">\n    <img src=\"https://cdn-icons-png.flaticon.com/512/73/73814.png\" class=\"liked\" *ngIf=\"!product.liked\" (click)=\"likeClicked(product)\">\n    <img src=\"https://cdn-icons-png.flaticon.com/512/833/833472.png\" class=\"liked\" *ngIf=\"product.liked\" (click)=\"likeClicked(product)\">\n    <div class=\"product\">\n    <div class=\"product-image\">\n    <img src=\"{{product.img}}\" [routerLink]=\"['/categories', categoryIDtoString(), 'products', product.id]\">\n  </div>\n    <div class=\"product-name\"  [routerLink]=\"['/categories', categoryIDtoString(), 'products', product.id]\">{{product.name}}</div>\n    <div class=\"product-price\">{{product.price}}тг</div>\n    </div>\n  </div>\n</div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}