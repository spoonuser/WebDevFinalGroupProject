{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../product.service\";\nimport * as i3 from \"@angular/common\";\nfunction SearchComponent_div_1_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 10);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_1_img_2_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const product_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.likeClicked(product_r2));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_div_1_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 11);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_1_img_3_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const product_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.likeClicked(product_r2));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1, a3) {\n  return [\"/categories\", a1, \"products\", a3];\n};\nfunction SearchComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\");\n    i0.ɵɵtemplate(2, SearchComponent_div_1_img_2_Template, 1, 0, \"img\", 3);\n    i0.ɵɵtemplate(3, SearchComponent_div_1_img_3_Template, 1, 0, \"img\", 4);\n    i0.ɵɵelementStart(4, \"div\", 5)(5, \"div\", 6);\n    i0.ɵɵelement(6, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !product_r2.liked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r2.liked);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r2.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(7, _c0, ctx_r0.categoryIDtoString(product_r2.category), product_r2.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(10, _c0, ctx_r0.categoryIDtoString(product_r2.category), product_r2.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", product_r2.price, \"\\u0442\\u0433\");\n  }\n}\nfunction SearchComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"img\", 13);\n    i0.ɵɵelementStart(2, \"p\", 14);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\u0422\\u043E\\u0432\\u0430\\u0440 \\u0441 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\\u043C \\\"\", ctx_r1.title, \"\\\" \\u043D\\u0435 \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\");\n  }\n}\nexport class SearchComponent {\n  constructor(route, productService) {\n    this.route = route;\n    this.productService = productService;\n    this.title = \"\";\n    this.products = [];\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      let _title = params.get('title');\n      if (_title) {\n        this.title = _title;\n      }\n    });\n    this.getProductsByTitle();\n    // this.products = MyDB.Products.filter(product=>product.Name.toLowerCase().includes(this.title.toLowerCase()));\n  }\n\n  likeClicked(product) {\n    product.liked = !product.liked;\n    this.productService.likeAction(product);\n  }\n  updateProduct(product) {\n    this.productService.likeAction(product);\n  }\n  categoryIDtoString(id) {\n    return id.toString();\n  }\n  getProductsByTitle() {\n    this.productService.getProductsByTitle(this.title).subscribe(products => {\n      this.products = products;\n    });\n  }\n}\nSearchComponent.ɵfac = function SearchComponent_Factory(t) {\n  return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchComponent,\n  selectors: [[\"app-search\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[1, \"products\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"NotFound\", 4, \"ngIf\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/73/73814.png\", \"class\", \"liked\", 3, \"click\", 4, \"ngIf\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/833/833472.png\", \"class\", \"liked\", 3, \"click\", 4, \"ngIf\"], [1, \"product\"], [1, \"product-image\"], [3, \"src\", \"routerLink\"], [1, \"product-name\", 3, \"routerLink\"], [1, \"product-price\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/73/73814.png\", 1, \"liked\", 3, \"click\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/833/833472.png\", 1, \"liked\", 3, \"click\"], [1, \"NotFound\"], [\"src\", \"https://marketplace.canva.cn/tSgzk/MAFJ2UtSgzk/1/tl/canva-kazakh-icon-MAFJ2UtSgzk.png\", 1, \"NotFoundIcon\"], [1, \"NotFoundTitle\"]],\n  template: function SearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, SearchComponent_div_1_Template, 11, 13, \"div\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, SearchComponent_div_2_Template, 4, 1, \"div\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.products.length == 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.RouterLink],\n  styles: [\".product[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: column;\\n    text-align: center;\\n    letter-spacing: 1px;\\n    border-radius: 14px;\\n    overflow: hidden;\\n    margin-bottom: 40px;\\n    margin-right: 4rem;\\n    border-bottom: 1px solid gray;\\n  }\\n\\n  .product-price[_ngcontent-%COMP%]{\\n    font-family: Calibri;\\n    font-weight: 600;\\n  }\\n\\n  .product-image[_ngcontent-%COMP%]{\\n    width: 300px;\\n    height: 330px;\\n    overflow: hidden;\\n    margin-bottom: 10px;\\n  }\\n\\n  .liked[_ngcontent-%COMP%]{\\n    width: 30px;\\n    position: relative;\\n    left: 16rem;\\n    top: 3em;\\n  }\\n\\n  .products[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-wrap: wrap;\\n    justify-content: flex-start;\\n    width: 100%;\\n    margin-left: 3%;\\n  }\\n\\n\\n  .NotFound[_ngcontent-%COMP%]{\\n    width: -moz-fit-content;\\n    width: fit-content;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    margin: 6rem auto;\\n    justify-content: space-between;\\n    height: 14rem;\\n  }\\n  .NotFoundIcon[_ngcontent-%COMP%]{\\n    width: 120px;\\n  }\\n  .NotFoundTitle[_ngcontent-%COMP%]{\\n    font-size: 22px;\\n    letter-spacing: 1px;\\n    font-family: Arial, Helvetica, sans-serif;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2VhcmNoL3NlYXJjaC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQiw2QkFBNkI7RUFDL0I7O0VBRUE7SUFDRSxvQkFBb0I7SUFDcEIsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsWUFBWTtJQUNaLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsUUFBUTtFQUNWOztFQUVBO0lBQ0UsYUFBYTtJQUNiLGVBQWU7SUFDZiwyQkFBMkI7SUFDM0IsV0FBVztJQUNYLGVBQWU7RUFDakI7OztFQUdBO0lBQ0UsdUJBQWtCO0lBQWxCLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsOEJBQThCO0lBQzlCLGFBQWE7RUFDZjtFQUNBO0lBQ0UsWUFBWTtFQUNkO0VBQ0E7SUFDRSxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLHlDQUF5QztFQUMzQyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9kdWN0e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgICBib3JkZXItcmFkaXVzOiAxNHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDRyZW07XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGdyYXk7XG4gIH1cblxuICAucHJvZHVjdC1wcmljZXtcbiAgICBmb250LWZhbWlseTogQ2FsaWJyaTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICB9XG5cbiAgLnByb2R1Y3QtaW1hZ2V7XG4gICAgd2lkdGg6IDMwMHB4O1xuICAgIGhlaWdodDogMzMwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLmxpa2Vke1xuICAgIHdpZHRoOiAzMHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBsZWZ0OiAxNnJlbTtcbiAgICB0b3A6IDNlbTtcbiAgfVxuXG4gIC5wcm9kdWN0c3tcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLWxlZnQ6IDMlO1xuICB9XG5cblxuICAuTm90Rm91bmR7XG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbjogNnJlbSBhdXRvO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBoZWlnaHQ6IDE0cmVtO1xuICB9XG4gIC5Ob3RGb3VuZEljb257XG4gICAgd2lkdGg6IDEyMHB4O1xuICB9XG4gIC5Ob3RGb3VuZFRpdGxle1xuICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICB9XG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAGQA,+BAAmI;IAA/BA;MAAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;IAAlIA,iBAAmI;;;;;;IACnIA,+BAAoI;IAA/BA;MAAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;IAAnIA,iBAAoI;;;;;;;;IAHxIA,2BAAsC;IAElCA,sEAAmI;IACnIA,sEAAoI;IACpIA,8BAAqB;IAErBA,yBAAwH;IAC1HA,iBAAM;IACJA,8BAAwH;IAAAA,YAAgB;IAAAA,iBAAM;IAC9IA,8BAA2B;IAAAA,aAAmB;IAAAA,iBAAM;;;;;IAP0BA,eAAoB;IAApBA,wCAAoB;IAClBA,eAAmB;IAAnBA,uCAAmB;IAG9FA,eAAqB;IAArBA,iEAAqB;IAACA,sHAA4F;IAE5FA,eAA4F;IAA5FA,uHAA4F;IAACA,eAAgB;IAAhBA,qCAAgB;IAC7GA,eAAmB;IAAnBA,2DAAmB;;;;;IAMtDA,+BAAiD;IAC7CA,0BAAsH;IACtHA,6BAAyB;IAAAA,YAA2C;IAAAA,iBAAI;;;;IAA/CA,eAA2C;IAA3CA,sNAA2C;;;ACPxE,OAAM,MAAOC,eAAe;EAG1BC,YAAoBC,KAAqB,EAAUC,cAA8B;IAA7D,UAAK,GAALD,KAAK;IAA0B,mBAAc,GAAdC,cAAc;IAC/D,IAAI,CAACC,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,QAAQ,GAAG,EAAE;EAElB;EAEFC,QAAQ;IACN,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,SAAS,CAAEC,MAAM,IAAG;MACtC,IAAIC,MAAM,GAAGD,MAAM,CAACE,GAAG,CAAC,OAAO,CAAC;MAChC,IAAID,MAAM,EAAE;QACV,IAAI,CAACN,KAAK,GAAGM,MAAM;;IAEvB,CAAC,CAAC;IACF,IAAI,CAACE,kBAAkB,EAAE;IACzB;EACF;;EACAC,WAAW,CAACC,OAAgB;IACxBA,OAAO,CAACC,KAAK,GAAG,CAACD,OAAO,CAACC,KAAK;IAC9B,IAAI,CAACZ,cAAc,CAACa,UAAU,CAACF,OAAO,CAAC;EAC3C;EACAG,aAAa,CAACH,OAAgB;IAC5B,IAAI,CAACX,cAAc,CAACa,UAAU,CAACF,OAAO,CAAC;EACzC;EACAI,kBAAkB,CAACC,EAAU;IAC3B,OAAOA,EAAE,CAACC,QAAQ,EAAE;EACtB;EAEAR,kBAAkB;IAChB,IAAI,CAACT,cAAc,CAACS,kBAAkB,CAAC,IAAI,CAACR,KAAK,CAAC,CAACI,SAAS,CAAEH,QAAQ,IAAI;MACxE,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC,CAAC;EACJ;;AAlCWL,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX5B1B,8BAAsB;MAClBA,kEAYM;MACNA,iBAAM;MAEVA,gEAGM;;;MAlBuBA,eAAW;MAAXA,sCAAW;MAelCA,eAAwB;MAAxBA,+CAAwB","names":["i0","SearchComponent","constructor","route","productService","title","products","ngOnInit","paramMap","subscribe","params","_title","get","getProductsByTitle","likeClicked","product","liked","likeAction","updateProduct","categoryIDtoString","id","toString","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/src/app/search/search.component.html","/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/src/app/search/search.component.ts"],"sourcesContent":["<div class=\"products\">\n    <div *ngFor=\"let product of products\">\n      <div>\n        <img src=\"https://cdn-icons-png.flaticon.com/512/73/73814.png\" class=\"liked\" *ngIf=\"!product.liked\" (click)=\"likeClicked(product)\">\n        <img src=\"https://cdn-icons-png.flaticon.com/512/833/833472.png\" class=\"liked\" *ngIf=\"product.liked\" (click)=\"likeClicked(product)\">\n        <div class=\"product\">\n        <div class=\"product-image\">\n        <img src=\"{{product.img}}\" [routerLink]=\"['/categories', categoryIDtoString(product.category), 'products', product.id]\">\n      </div>\n        <div class=\"product-name\"  [routerLink]=\"['/categories', categoryIDtoString(product.category), 'products', product.id]\">{{product.name}}</div>\n        <div class=\"product-price\">{{product.price}}тг</div>\n        </div>\n      </div>\n    </div>\n    </div>\n\n<div *ngIf=\"products.length==0\" class=\"NotFound\">\n    <img src=\"https://marketplace.canva.cn/tSgzk/MAFJ2UtSgzk/1/tl/canva-kazakh-icon-MAFJ2UtSgzk.png\" class=\"NotFoundIcon\">\n    <p class=\"NotFoundTitle\">Товар с названием \"{{title}}\" не существует</p>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from \"@angular/router\";\nimport { Product } from '../models';\nimport { MyDB } from '../db';\nimport {ProductService} from \"../product.service\";\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n  title: string;\n  products: Product[];\n  constructor(private route: ActivatedRoute, private productService: ProductService){\n    this.title = \"\";\n    this.products = [];\n\n    }\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe((params)=> {\n      let _title = params.get('title');\n      if (_title) {\n        this.title = _title;\n      }\n    })\n    this.getProductsByTitle()\n    // this.products = MyDB.Products.filter(product=>product.Name.toLowerCase().includes(this.title.toLowerCase()));\n  }\n  likeClicked(product: Product){\n      product.liked = !product.liked;\n      this.productService.likeAction(product)\n  }\n  updateProduct(product: Product){\n    this.productService.likeAction(product)\n  }\n  categoryIDtoString(id: number){\n    return id.toString()\n  }\n\n  getProductsByTitle(){\n    this.productService.getProductsByTitle(this.title).subscribe((products) => {\n      this.products = products;\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}