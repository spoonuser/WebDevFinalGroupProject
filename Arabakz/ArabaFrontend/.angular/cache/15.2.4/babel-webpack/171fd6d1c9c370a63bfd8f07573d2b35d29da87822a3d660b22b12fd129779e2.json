{"ast":null,"code":"'use strict';\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n\n/**\n * Return a function that will run a function asynchronously or synchronously\n *\n * example:\n * runAsync(wrappedFunction, callback)(...args);\n *\n * @param   {Function} func  Function to run\n * @param   {Function} cb    Callback function passed the `func` returned value\n * @return  {Function(arguments)} Arguments to pass to `func`. This function will in turn\n *                                return a Promise (Node >= 0.12) or call the callbacks.\n */\n\nvar runAsync = module.exports = function (func, cb) {\n  cb = cb || function () {};\n  return function () {\n    var args = arguments;\n    var promise = new Promise(function (resolve, reject) {\n      var resolved = false;\n      const wrappedResolve = function (value) {\n        if (resolved) {\n          console.warn('Run-async promise already resolved.');\n        }\n        resolved = true;\n        resolve(value);\n      };\n      var rejected = false;\n      const wrappedReject = function (value) {\n        if (rejected) {\n          console.warn('Run-async promise already rejected.');\n        }\n        rejected = true;\n        reject(value);\n      };\n      var usingCallback = false;\n      var callbackConflict = false;\n      var contextEnded = false;\n      var answer = func.apply({\n        async: function () {\n          if (contextEnded) {\n            console.warn('Run-async async() called outside a valid run-async context, callback will be ignored.');\n            return function () {};\n          }\n          if (callbackConflict) {\n            console.warn('Run-async wrapped function (async) returned a promise.\\nCalls to async() callback can have unexpected results.');\n          }\n          usingCallback = true;\n          return function (err, value) {\n            if (err) {\n              wrappedReject(err);\n            } else {\n              wrappedResolve(value);\n            }\n          };\n        }\n      }, Array.prototype.slice.call(args));\n      if (usingCallback) {\n        if (isPromise(answer)) {\n          console.warn('Run-async wrapped function (sync) returned a promise but async() callback must be executed to resolve.');\n        }\n      } else {\n        if (isPromise(answer)) {\n          callbackConflict = true;\n          answer.then(wrappedResolve, wrappedReject);\n        } else {\n          wrappedResolve(answer);\n        }\n      }\n      contextEnded = true;\n    });\n    promise.then(cb.bind(null, null), cb);\n    return promise;\n  };\n};\nrunAsync.cb = function (func, cb) {\n  return runAsync(function () {\n    var args = Array.prototype.slice.call(arguments);\n    if (args.length === func.length - 1) {\n      args.push(this.async());\n    }\n    return func.apply(this, args);\n  }, cb);\n};","map":{"version":3,"names":["isPromise","obj","then","runAsync","module","exports","func","cb","args","arguments","promise","Promise","resolve","reject","resolved","wrappedResolve","value","console","warn","rejected","wrappedReject","usingCallback","callbackConflict","contextEnded","answer","apply","async","err","Array","prototype","slice","call","bind","length","push"],"sources":["/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/node_modules/run-async/index.js"],"sourcesContent":["'use strict';\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n\n/**\n * Return a function that will run a function asynchronously or synchronously\n *\n * example:\n * runAsync(wrappedFunction, callback)(...args);\n *\n * @param   {Function} func  Function to run\n * @param   {Function} cb    Callback function passed the `func` returned value\n * @return  {Function(arguments)} Arguments to pass to `func`. This function will in turn\n *                                return a Promise (Node >= 0.12) or call the callbacks.\n */\n\nvar runAsync = module.exports = function (func, cb) {\n  cb = cb || function () {};\n\n  return function () {\n\n    var args = arguments;\n\n    var promise = new Promise(function (resolve, reject) {\n      var resolved = false;\n      const wrappedResolve = function (value) {\n        if (resolved) {\n          console.warn('Run-async promise already resolved.')\n        }\n        resolved = true;\n        resolve(value);\n      }\n\n      var rejected = false;\n      const wrappedReject = function (value) {\n        if (rejected) {\n          console.warn('Run-async promise already rejected.')\n        }\n        rejected = true;\n        reject(value);\n      }\n\n      var usingCallback = false;\n      var callbackConflict = false;\n      var contextEnded = false;\n\n      var answer = func.apply({\n        async: function () {\n          if (contextEnded) {\n            console.warn('Run-async async() called outside a valid run-async context, callback will be ignored.');\n            return function() {};\n          }\n          if (callbackConflict) {\n            console.warn('Run-async wrapped function (async) returned a promise.\\nCalls to async() callback can have unexpected results.');\n          }\n          usingCallback = true;\n          return function (err, value) {\n            if (err) {\n              wrappedReject(err);\n            } else {\n              wrappedResolve(value);\n            }\n          };\n        }\n      }, Array.prototype.slice.call(args));\n\n      if (usingCallback) {\n        if (isPromise(answer)) {\n          console.warn('Run-async wrapped function (sync) returned a promise but async() callback must be executed to resolve.');\n        }\n      } else {\n        if (isPromise(answer)) {\n          callbackConflict = true;\n          answer.then(wrappedResolve, wrappedReject);\n        } else {\n          wrappedResolve(answer);\n        }\n      }\n      contextEnded = true;\n    });\n\n    promise.then(cb.bind(null, null), cb);\n\n    return promise;\n  }\n};\n\nrunAsync.cb = function (func, cb) {\n  return runAsync(function () {\n    var args = Array.prototype.slice.call(arguments);\n    if (args.length === func.length - 1) {\n      args.push(this.async());\n    }\n    return func.apply(this, args);\n  }, cb);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}