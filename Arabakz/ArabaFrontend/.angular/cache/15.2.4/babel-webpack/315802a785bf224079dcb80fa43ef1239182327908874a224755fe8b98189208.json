{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../auth.service\";\nexport class AccountComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n    this.Authorized = false;\n    this.products = [];\n    this.user = {\n      username: \"\",\n      first_name: \"\",\n      last_name: \"\"\n    };\n  }\n  ngOnInit() {\n    this.getUser();\n  }\n  canActivate() {\n    alert(1);\n    if (this.Authorized) {\n      return true;\n    }\n    this.router.navigateByUrl('/', {\n      skipLocationChange: true\n    }).then(() => {\n      this.router.navigate([\"login\"]);\n    });\n    return false;\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['../login']);\n  }\n  getUser() {\n    this.authService.getUser().subscribe(user => {\n      this.user = {\n        first_name: user['first_name'],\n        last_name: user['last_name'],\n        username: user['username']\n      };\n      console.log(this.user); // here it is printing correct data\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nAccountComponent.ɵfac = function AccountComponent_Factory(t) {\n  return new (t || AccountComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nAccountComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AccountComponent,\n  selectors: [[\"app-account\"]],\n  decls: 32,\n  vars: 3,\n  consts: [[2, \"position\", \"relative\", \"left\", \"92%\", 3, \"click\"], [\"id\", \"page-content\", 1, \"page-content\", \"page-container\"], [1, \"padding\"], [1, \"row\", \"container\", \"d-flex\", \"justify-content-center\"], [1, \"col-xl-6\", \"col-md-12\"], [1, \"card\", \"user-card-full\"], [1, \"row\", \"m-l-0\", \"m-r-0\"], [1, \"col-sm-4\", \"bg-c-lite-green\", \"user-profile\"], [1, \"card-block\", \"text-center\", \"text-white\"], [1, \"f-w-600\", \"f-s-40\"], [1, \"col-sm-8\"], [1, \"card-block\"], [1, \"m-b-20\", \"p-b-5\", \"b-b-default\", \"f-w-600\"], [1, \"row\"], [1, \"col-sm-6\"], [1, \"m-b-10\", \"f-w-600\"], [1, \"text-muted\", \"f-w-400\", \"p-b-10\"]],\n  template: function AccountComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function AccountComponent_Template_button_click_0_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(1, \"Logout\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"h6\", 9);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 10)(13, \"div\", 11)(14, \"h6\", 12);\n      i0.ɵɵtext(15, \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 13)(17, \"div\", 14)(18, \"p\", 15);\n      i0.ɵɵtext(19, \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"h6\", 16);\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 14)(23, \"p\", 15);\n      i0.ɵɵtext(24, \"\\u0418\\u043C\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"h6\", 16);\n      i0.ɵɵtext(26);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 14)(28, \"p\", 15);\n      i0.ɵɵtext(29, \"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"h6\", 16);\n      i0.ɵɵtext(31, \"0\");\n      i0.ɵɵelementEnd()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate(ctx.user.username);\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate(ctx.user.last_name);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.user.first_name);\n    }\n  },\n  styles: [\"body[_ngcontent-%COMP%] {\\n    background-color: #f9f9fa\\n}\\n\\n.padding[_ngcontent-%COMP%] {\\n    padding: 3rem\\n}\\n\\n.user-card-full[_ngcontent-%COMP%] {\\n    overflow: hidden;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n    border-radius: 5px;\\n    box-shadow: 0 1px 20px 0 rgba(69,90,100,0.08);\\n    border: none;\\n    margin-bottom: 30px;\\n}\\n\\n.m-r-0[_ngcontent-%COMP%] {\\n    margin-right: 0px;\\n}\\n\\n.m-l-0[_ngcontent-%COMP%] {\\n    margin-left: 0px;\\n}\\n\\n.user-card-full[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%] {\\n    border-radius: 5px 0 0 5px;\\n}\\n\\n.bg-c-lite-green[_ngcontent-%COMP%] {\\n    background: linear-gradient(to right, #856B48,#00305F);\\n}\\n\\n.user-profile[_ngcontent-%COMP%] {\\n    padding: 20px 0;\\n}\\n\\n.card-block[_ngcontent-%COMP%] {\\n    padding: 1.25rem;\\n}\\n\\n\\n.img-radius[_ngcontent-%COMP%] {\\n    border-radius: 5px;\\n}\\n\\n\\n\\nh6[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n}\\n\\n.card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    line-height: 25px;\\n}\\n\\n@media only screen and (min-width: 1400px){\\n    p[_ngcontent-%COMP%] {\\n        font-size: 14px;\\n    }\\n}\\n\\n.card-block[_ngcontent-%COMP%] {\\n    padding: 1.25rem;\\n}\\n\\n.b-b-default[_ngcontent-%COMP%] {\\n    border-bottom: 1px solid #e0e0e0;\\n}\\n\\n.m-b-20[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n}\\n\\n.p-b-5[_ngcontent-%COMP%] {\\n    padding-bottom: 5px !important;\\n}\\n\\n.card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    line-height: 25px;\\n}\\n\\n.m-b-10[_ngcontent-%COMP%] {\\n    margin-bottom: 10px;\\n}\\n\\n.text-muted[_ngcontent-%COMP%] {\\n    color: #919aa3 !important;\\n}\\n\\n.b-b-default[_ngcontent-%COMP%] {\\n    border-bottom: 1px solid #e0e0e0;\\n}\\n\\n.f-w-600[_ngcontent-%COMP%] {\\n    font-weight: 600;\\n}\\n.f-s-40[_ngcontent-%COMP%]{\\n    font-size: 35px;\\n}\\n\\n.m-b-20[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n}\\n\\n.m-t-40[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n}\\n\\n.p-b-5[_ngcontent-%COMP%] {\\n    padding-bottom: 5px\\n}\\n.p-b-10[_ngcontent-%COMP%] {\\n    padding-bottom: 17px\\n}\\n\\n.m-b-10[_ngcontent-%COMP%] {\\n    margin-bottom: 10px;\\n}\\n\\n.m-t-40[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWNjb3VudC9hY2NvdW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSTtBQUNKOztBQUVBO0lBQ0k7QUFDSjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUVsQiw2Q0FBNkM7SUFDN0MsWUFBWTtJQUNaLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUVJLHNEQUFzRDtBQUMxRDs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7OztBQUdBO0lBQ0ksa0JBQWtCO0FBQ3RCOzs7O0FBSUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0k7UUFDSSxlQUFlO0lBQ25CO0FBQ0o7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSTtBQUNKO0FBQ0E7SUFDSTtBQUNKOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmYVxufVxuXG4ucGFkZGluZyB7XG4gICAgcGFkZGluZzogM3JlbVxufVxuXG4udXNlci1jYXJkLWZ1bGwge1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5jYXJkIHtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCAyMHB4IDAgcmdiYSg2OSw5MCwxMDAsMC4wOCk7XG4gICAgYm94LXNoYWRvdzogMCAxcHggMjBweCAwIHJnYmEoNjksOTAsMTAwLDAuMDgpO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xufVxuXG4ubS1yLTAge1xuICAgIG1hcmdpbi1yaWdodDogMHB4O1xufVxuXG4ubS1sLTAge1xuICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG59XG5cbi51c2VyLWNhcmQtZnVsbCAudXNlci1wcm9maWxlIHtcbiAgICBib3JkZXItcmFkaXVzOiA1cHggMCAwIDVweDtcbn1cblxuLmJnLWMtbGl0ZS1ncmVlbiB7XG4gICAgYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCByaWdodCB0b3AsIGZyb20oIzAwMzA1RiksIHRvKCM4NTZCNDgpKTtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM4NTZCNDgsIzAwMzA1Rik7XG59XG5cbi51c2VyLXByb2ZpbGUge1xuICAgIHBhZGRpbmc6IDIwcHggMDtcbn1cblxuLmNhcmQtYmxvY2sge1xuICAgIHBhZGRpbmc6IDEuMjVyZW07XG59XG5cblxuLmltZy1yYWRpdXMge1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuXG5cbmg2IHtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5jYXJkIC5jYXJkLWJsb2NrIHAge1xuICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDE0MDBweCl7XG4gICAgcCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG59XG5cbi5jYXJkLWJsb2NrIHtcbiAgICBwYWRkaW5nOiAxLjI1cmVtO1xufVxuXG4uYi1iLWRlZmF1bHQge1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xufVxuXG4ubS1iLTIwIHtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4ucC1iLTUge1xuICAgIHBhZGRpbmctYm90dG9tOiA1cHggIWltcG9ydGFudDtcbn1cblxuLmNhcmQgLmNhcmQtYmxvY2sgcCB7XG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XG59XG5cbi5tLWItMTAge1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi50ZXh0LW11dGVkIHtcbiAgICBjb2xvcjogIzkxOWFhMyAhaW1wb3J0YW50O1xufVxuXG4uYi1iLWRlZmF1bHQge1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xufVxuXG4uZi13LTYwMCB7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbi5mLXMtNDB7XG4gICAgZm9udC1zaXplOiAzNXB4O1xufVxuXG4ubS1iLTIwIHtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4ubS10LTQwIHtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4ucC1iLTUge1xuICAgIHBhZGRpbmctYm90dG9tOiA1cHhcbn1cbi5wLWItMTAge1xuICAgIHBhZGRpbmctYm90dG9tOiAxN3B4XG59XG5cbi5tLWItMTAge1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5tLXQtNDAge1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;AAgBA,OAAM,MAAOA,gBAAgB;EAI3BC,YAAoBC,MAAc,EAAUC,WAAwB;IAAhD,WAAM,GAAND,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IACrD,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,IAAI,GAAG;MAACC,QAAQ,EAAC,EAAE;MAAEC,UAAU,EAAC,EAAE;MAAEC,SAAS,EAAC;IAAE,CAAC;EACxD;EAEAC,QAAQ;IACF,IAAI,CAACC,OAAO,EAAE;EAClB;EAIFC,WAAW;IACTC,KAAK,CAAC,CAAC,CAAC;IACR,IAAI,IAAI,CAACT,UAAU,EAAE;MACjB,OAAO,IAAI;;IAGf,IAAI,CAACF,MAAM,CAACY,aAAa,CAAC,GAAG,EAAE;MAACC,kBAAkB,EAAE;IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,MAAI;MAClE,IAAI,CAACd,MAAM,CAACe,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC,CAAC;IACA,OAAO,KAAK;EAChB;EACEC,MAAM;IACJ,IAAI,CAACf,WAAW,CAACe,MAAM,EAAE;IACzB,IAAI,CAAChB,MAAM,CAACe,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAEAN,OAAO;IACL,IAAI,CAACR,WAAW,CAACQ,OAAO,EAAE,CAACQ,SAAS,CAAEb,IAAI,IAAI;MAC5C,IAAI,CAACA,IAAI,GAAG;QACVE,UAAU,EAAEF,IAAI,CAAC,YAAY,CAAC;QAC9BG,SAAS,EAAEH,IAAI,CAAC,WAAW,CAAC;QAC5BC,QAAQ,EAAED,IAAI,CAAC,UAAU;OAC1B;MACDc,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,IAAI,CAAC,EAAC;IACzB,CAAC,EAAEgB,KAAK,IAAG;MACTF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACpB,CAAC,CAAC;EACJ;;AA3CWtB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MChB7BC,iCAAiE;MAAzDA;QAAA,OAASC,YAAQ;MAAA,EAAC;MAAuCD,sBAAM;MAAAA,iBAAS;MAChFA,8BAA2D;MAQAA,aAAiB;MAAAA,iBAAK;MAIzDA,gCAAsB;MAE+BA,6EAAU;MAAAA,iBAAK;MAC5DA,gCAAiB;MAEkBA,2DAAO;MAAAA,iBAAI;MACtCA,+BAAuC;MAAAA,aAAkB;MAAAA,iBAAK;MAGlEA,gCAAsB;MACQA,mCAAG;MAAAA,iBAAI;MACjCA,+BAAsC;MAAAA,aAAmB;MAAAA,iBAAK;MAElEA,gCAAsB;MACQA,qDAAM;MAAAA,iBAAI;MACpCA,+BAAsC;MAAAA,kBAAC;MAAAA,iBAAK;;;MAnBzBA,gBAAiB;MAAjBA,uCAAiB;MAUGA,gBAAkB;MAAlBA,wCAAkB;MAKnBA,eAAmB;MAAnBA,yCAAmB","names":["AccountComponent","constructor","router","authService","Authorized","products","user","username","first_name","last_name","ngOnInit","getUser","canActivate","alert","navigateByUrl","skipLocationChange","then","navigate","logout","subscribe","console","log","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/src/app/account/account.component.ts","/Users/sabyrzhanolzhabay/Web-Dev/Arabakz/ArabaFrontend/src/app/account/account.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {  Router, CanActivate } from '@angular/router';\nimport {AuthService} from \"../auth.service\";\nimport {MyDB} from \"../db\";\nimport {Product} from \"../models\";\n\nexport interface User{\n  first_name: string,\n  last_name: string,\n  username: string,\n}\n@Component({\n  selector: 'app-account',\n  templateUrl: './account.component.html',\n  styleUrls: ['./account.component.css']\n})\nexport class AccountComponent implements CanActivate, OnInit {\n  Authorized: boolean;\n  products: Product[];\n  user: User;\n  constructor(private router: Router, private authService: AuthService){\n    this.Authorized = false;\n    this.products = [];\n    this.user = {username:\"\", first_name:\"\", last_name:\"\"};\n  }\n\n  ngOnInit(): void {\n        this.getUser()\n    }\n\n\n\n  canActivate() {\n    alert(1)\n    if (this.Authorized) {\n        return true;\n    }\n\n    this.router.navigateByUrl('/', {skipLocationChange: true}).then(()=>{\n      this.router.navigate([\"login\"])\n  });\n    return false;\n}\n  logout(){\n    this.authService.logout()\n    this.router.navigate(['../login'])\n  }\n\n  getUser(){\n    this.authService.getUser().subscribe((user) => {\n      this.user = {\n        first_name: user['first_name'],\n        last_name: user['last_name'],\n        username: user['username']\n      };\n      console.log(this.user) // here it is printing correct data\n    }, error => {\n      console.log(error);\n    });\n  }\n}\n","<button (click)=\"logout()\" style=\"position: relative; left: 92%\">Logout</button>\n<div class=\"page-content page-container\" id=\"page-content\">\n    <div class=\"padding\">\n        <div class=\"row container d-flex justify-content-center\">\n            <div class=\"col-xl-6 col-md-12\">\n                <div class=\"card user-card-full\">\n                    <div class=\"row m-l-0 m-r-0\">\n                        <div class=\"col-sm-4 bg-c-lite-green user-profile\">\n                            <div class=\"card-block text-center text-white\">\n                                <h6 class=\"f-w-600 f-s-40\">{{user.username}}</h6>\n\n                            </div>\n                        </div>\n                        <div class=\"col-sm-8\">\n                            <div class=\"card-block\">\n                                <h6 class=\"m-b-20 p-b-5 b-b-default f-w-600\">Информация</h6>\n                                <div class=\"row\">\n                                    <div class=\"col-sm-6\">\n                                        <p class=\"m-b-10 f-w-600 \">Фамилия</p>\n                                        <h6 class=\"text-muted f-w-400 p-b-10 \">{{user.last_name}}</h6>\n                                    </div>\n\n                                    <div class=\"col-sm-6\">\n                                        <p class=\"m-b-10 f-w-600\">Имя</p>\n                                        <h6 class=\"text-muted f-w-400 p-b-10\">{{user.first_name}}</h6>\n                                    </div>\n                                    <div class=\"col-sm-6\">\n                                        <p class=\"m-b-10 f-w-600\">Баланс</p>\n                                        <h6 class=\"text-muted f-w-400 p-b-10\">0</h6>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}